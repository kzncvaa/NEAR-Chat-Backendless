var activeConnectionsCount;



module.exports = async function updateUserOnlineStatus(userId) {
    if (userId != null) {
    activeConnectionsCount = (await Backendless.Data.of('Connections').getObjectCount(Backendless.DataQueryBuilder.create().setWhereClause((['userId = \'',userId,'\''].join('')))));
    await Backendless.Data.of('Users').save( ({ 'objectId': userId,'online': activeConnectionsCount > 0 }) );
  }



}